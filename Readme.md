# SSV Liquid staking validator registration service

The SSV Liquid Staking Validator Registration Service is a service that allows operators to register their validator and SSV operators. The service is used by the SSV Liquid Staking Protocol to stake with the validators. New validators can be registered with the contract when the condition for the stake is satisfied in the liquid staking contract.

## About ClayStack

ClayStack is a pioneering liquid staking protocol designed for the Ethereum ecosystem. Our mission is to lead a new era in the global staking industry, with the aim of bringing staking into the mainstream. Our unique approach, anchored in our commitment to decentralization, security, scalability, and inclusivity, sets us apart. csETH, a key part of our platform, enhances the security of Ethereum and DeFi by fostering active participation and promoting scalable, robust staking.

More at https://www.claystack.com


## How it works?

The service is used by the SSV Liquid Staking Protocol to stake with the validators. New validators can be registered with the contract when the condition for the stake is satisfied in the liquid staking contract. When there is a need of new validators, the process starts.

1. Keys are generated for the new validators using the staking deposit cli.
2. The keystore is used to split the keys with the ssv-keys cli. This requires an owner nonce that is generated by the ssv-scanner cli.
3. The keys are registered with the SSV network contract.
4. The credentials generated are passed to the Liquid staking contract to register the new validators.


## How exits are handled
1. The liquid staking contract is checked for pendingWithdrawals and counts the number of validators to be exited.
2. The validators are exited one by one.
3. The keys are unregistered from the SSV network contract.
4. The validator is marked as inactive in the liquid staking contract.


## How to run the project without docker

Make sure you have python installed with all the dependencies.

```
Run setup.sh to install all the project dependencies
Install all the py requirements with pip
Run the main.py
```

## How to run the service

Run the docker file with all the required environment variables.